<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>Rock Paper Scissors Part 4</title>
  </head>

  <body>
    <div>
      <h1 id="directions">Please choose P , S, or R</h1>
      <p id="userchoice-text"></p>
      <p id="computerchoice-text"></p>
      <p id="userWins"></p>
      <p id="computerWins"></p>
      <p id="ties"></p>
    </div>

    <script type="text/javascript">
      // Creates an array that lists out all of the options (Rock, Paper, or Scissors).

      // // Create variables that hold references to the places in the HTML where we want to display things.
      // var userChoiceText = document.getElementById("userchoice-text");
      // var computerChoiceText = document.getElementById("computerchoice-text");

      // // This function is run whenever the user presses a key.
      // document.onkeyup = function(event) {

      //   // Determines which key was pressed.
      //   var userGuess = event.key;

      //   // Randomly chooses a choice from the options array. This is the Computer's guess.
      //   var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

      //   // Only run the following code block if the user presses "r" or "p" or "s".
      //   if ((userGuess === "r") || (userGuess === "p") || (userGuess === "s")) {
      //     // Display the user and computer guesses.
      //     userChoiceText.textContent = "You chose: " + userGuess;
      //     computerChoiceText.textContent = "The computer chose: " + computerGuess;
      //   }

      // };

      var computerChoices = ["r", "p", "s"];

      var wins = 0;
      var losses = 0;
      var ties = 0;

      const directionText = document.getElementById("directions");
      const displayUserText = document.getElementById("userchoice-text");
      const displayComText = document.getElementById("computerchoice-text");
      const winsText = document.getElementById("userWins");
      const cWinsText = document.getElementById("computerWins");
      const tieText = document.getElementById("ties");

      document.onkeyup = event => {
        const userInput = event.key.toLowerCase();
        const comInput =
          computerChoices[Math.floor(Math.random() * computerChoices.length)];

        if (userInput === "r" || userInput === "s" || userInput === "p") {
          // If we choose rock and the computer guesses scissors, increment our wins variable.
          if (userGuess === "r" && comInput === "s") {
            wins++;
          }

          // If we choose rock and the computer guesses paper, increment our losses variable.
          if (userInput === "r" && comInput === "p") {
            losses++;
          }

          // If we choose scissors and the computer guesses rock, increment our losses variable.
          if (userInput === "s" && comInput === "r") {
            losses++;
          }

          // If we choose scissors and the computer guesses paper, increment our wins variable.
          if (userInput === "s" && comInput === "p") {
            wins++;
          }

          // If we choose paper and the computer guesses rock, increment our wins variable.
          if (userInput === "p" && comInput === "r") {
            wins++;
          }

          // If we choose paper and the computer guesses scissors, increment our losses variable.
          if (userInput === "p" && comInput === "s") {
            losses++;
          }

          // If we choose the same thing as the computer, increment our ties variable.
          if (userInput === comInput) {
            ties++;
          }

          directionText.textContent = "";
          displayUserText.textContent = "Your choice: " + userInput;
          displayComText.textContent = "Computer choice: " + comInput;
          winsText.textContent = "User Score: " + wins;
          cWinsText.textContent = "Computer Score: " + losses;
          tieText.textContent = "Number of ties: " + ties;
        }
      };
    </script>
  </body>
</html>
